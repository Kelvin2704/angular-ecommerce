<div
  *ngIf="isLoading; else productContent"
  class="flex flex-col md:flex-row bg-white max-w-screen-xl h-full mx-auto mt-5 rounded-sm p-5 animate-pulse space-y-6 md:space-x-6"
>
  <div class="w-full">
    <div class="h-96 w-full bg-gray-200"></div>
  </div>

  <div class="w-full">
    <div class="flex flex-col gap-5">
      <div class="h-6 w-full bg-gray-200 rounded"></div>
      <div class="h-4 w-1/4 bg-gray-200 rounded"></div>
      <div class="h-4 w-1/4 bg-gray-200 rounded"></div>
      <div class="h-4 w-full bg-gray-200 rounded"></div>
      <div class="h-4 w-full bg-gray-200 rounded"></div>
      <div class="h-4 w-3/4 bg-gray-200 rounded"></div>
      <div class="h-6 w-1/4 bg-gray-200 rounded"></div>
    </div>
  </div>
</div>

<ng-template #productContent>
  <!-- Product Details Content -->
  <div>
    <!-- Product information, images, etc. -->
  </div>

  <div
    *ngIf="product"
    class="max-w-screen-xl h-fit mx-auto rounded-sm p-3 md:p-5"
  >
    <app-breadcrumbs
      [category]="product.category"
      [productTitle]="product.title"
    >
    </app-breadcrumbs>
    <div
      class="flex flex-col lg:flex-row space-y-6 md:space-x-6 bg-white rounded"
    >
      <!-- image -->
      <div class=" h-fit w-full flex flex-col">
        <!-- image -->
        <div class="h-40 lg:h-80 w-full">
          <img
            [src]="product.image"
            alt="{{ product.title }}"
            class="product-image h-full mx-auto"
          />
        </div>
        <div class="w-full mt-8 flex gap-2">
          <div class="h-20 w-full md:h-32 border border-neutral-300 rounded-xl">
            <img
              [src]="product.image"
              alt="{{ product.title }}"
              class="product-image h-full mx-auto p-2"
            />
          </div>
          <div class="h-20 w-full md:h-32 border border-neutral-300 rounded-xl">
            <img
              [src]="product.image"
              alt="{{ product.title }}"
              class="product-image h-full mx-auto p-2"
            />
          </div>
          <div class="h-20 w-full md:h-32 border border-neutral-300 rounded-xl">
            <img
              [src]="product.image"
              alt="{{ product.title }}"
              class="product-image h-full mx-auto p-2"
            />
          </div>
          <div class="h-20 w-full md:h-32 border border-neutral-300 rounded-xl">
            <img
              [src]="product.image"
              alt="{{ product.title }}"
              class="product-image h-full mx-auto p-2"
            />
          </div>
        </div>
      </div>
      <!-- details -->
      <div class="w-full h-fit">
        <div class="flex flex-col gap-5 lg:gap-6">
          <div class="space-y-5">
            <h1
              class="text-2xl font-extrabold text-neutral-900 w-3/4 leading-normal"
            >
              {{ product.title }}
            </h1>
            <div class="flex flex-col items-start space-y-5 leading-normal">
              <p class="text-2xl h-full">${{ product.price }}</p>
              <div class="flex space-x-2">
                <svg
                  class="h-5 w-5 text-yellow-400"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"
                  />
                </svg>

                <p class="font-medium">
                  {{ product.rating.rate }} ({{ product.rating.count }} reviews)
                </p>
              </div>
              <p class="w-full text-base">
                {{ product.description }}
              </p>
            </div>
          </div>
          <!-- price -->
          <!-- description -->

          <!-- //button -->
          <div class="flex gap-2 items-center mt-2">
            <button
              (click)="addToCart(product)"
              class="max-w-56 w-full bg-red-600 text-red-50 border-red-200 border py-3 rounded-lg font-semibold"
            >
              <span> Add to bag </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<!-- <div *ngIf="!product">
  <p>Loading product details...</p>
</div> -->
