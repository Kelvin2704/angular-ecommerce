<div class="">
  <div
    *ngIf="isLoading; else productContent"
    class="w-full h-full border bg-white border-gray-200 rounded-2xl mx-auto overflow-hidden p-4 cursor-pointer"
  >
    <!-- Skeleton Loader -->
    <div class="flex flex-col gap-3 animate-pulse">
      <div class="w-full h-36 bg-gray-200"></div>
      <div class="w-full h-4 bg-gray-200 rounded"></div>
      <div class="w-3/4 h-4 bg-gray-200 rounded"></div>
      <div class="w-3/4 h-4 bg-gray-200 rounded"></div>
      <div class="w-1/4 h-4 bg-gray-200 rounded"></div>
      <div class="w-1/4 h-4 bg-gray-200 rounded"></div>
    </div>
  </div>

  <ng-template #productContent>
    <div
      class="w-full h-full border bg-white border-gray-200 rounded-2xl overflow-hidden p-3 md:p-5 hover:border-red-500 cursor-pointer"
      (click)="goToProductDetail()"
    >
      <div class="flex flex-col gap-3">
        <div class="flex justify-center w-full h-32 lg:h-56">
          <img
            class="h-full"
            [src]="product.image"
            alt="{{ product.title }}"
          />
        </div>
        <div class="flex flex-col space-y-2 h-full">
          <div class="flex flex-col space-y-2 h-full lg:flex-row lg:justify-between lg:space-y-0 items-start text-gray-900 ">
            <h6 class="text-base font-semibold w-full h-full lg:w-2/3 line-clamp-1">
              {{ product.title }}
            </h6>
            <p class="text-lg font-semibold leading-tight text-neutral-900">
              ${{ product.price }}
            </p>
          </div>
          <p class="text-neutral-500 italic">
            {{ product.category }}
          </p>
          <div class="mt-2 flex items-center justify-between gap-2">
            <div class="flex gap-1 items-center w-2/3">
              <svg
                class="h-4 w-4 text-yellow-400"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M13.8 4.2a2 2 0 0 0-3.6 0L8.4 8.4l-4.6.3a2 2 0 0 0-1.1 3.5l3.5 3-1 4.4c-.5 1.7 1.4 3 2.9 2.1l3.9-2.3 3.9 2.3c1.5 1 3.4-.4 3-2.1l-1-4.4 3.4-3a2 2 0 0 0-1.1-3.5l-4.6-.3-1.8-4.2Z"
                />
              </svg>
              <span class="text-sm text-gray-500 font-medium">{{
                product.rating.rate
              }}</span>
              <p class="text-sm font-medium text-gray-500">
                | {{ product.rating.count }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
